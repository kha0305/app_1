{"openapi":"3.1.0","info":{"title":"Healthcare API","description":"Backend API for the Healthcare Management System","version":"1.0.0"},"paths":{"/auth/register":{"post":{"summary":"Register","operationId":"register_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/login":{"post":{"summary":"Login","operationId":"login_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLogin"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/me":{"get":{"summary":"Get Me","operationId":"get_me_auth_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/auth/forgot-password":{"post":{"summary":"Forgot Password","operationId":"forgot_password_auth_forgot_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForgotPasswordRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/specialties":{"get":{"summary":"Get Specialties","operationId":"get_specialties_specialties_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/Specialty"},"type":"array","title":"Response Get Specialties Specialties Get"}}}}}},"post":{"summary":"Create Specialty","operationId":"create_specialty_specialties_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SpecialtyCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Specialty"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/doctors":{"get":{"summary":"Get Doctors","operationId":"get_doctors_doctors_get","parameters":[{"name":"specialty_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Specialty Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/doctors/{doctor_id}":{"get":{"summary":"Get Doctor","operationId":"get_doctor_doctors__doctor_id__get","parameters":[{"name":"doctor_id","in":"path","required":true,"schema":{"type":"string","title":"Doctor Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/doctors/profile":{"put":{"summary":"Update Doctor Profile","operationId":"update_doctor_profile_doctors_profile_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DoctorProfileUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/doctors/schedule":{"put":{"summary":"Update Doctor Schedule","operationId":"update_doctor_schedule_doctors_schedule_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DoctorScheduleUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/appointments":{"post":{"summary":"Create Appointment","operationId":"create_appointment_appointments_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AppointmentCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Appointment"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/appointments/my":{"get":{"summary":"Get My Appointments","operationId":"get_my_appointments_appointments_my_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/appointments/{appointment_id}/status":{"put":{"summary":"Update Appointment Status","operationId":"update_appointment_status_appointments__appointment_id__status_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"appointment_id","in":"path","required":true,"schema":{"type":"string","title":"Appointment Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AppointmentStatusUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/chat/send":{"post":{"summary":"Send Message","operationId":"send_message_chat_send_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatMessageCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/chat/{appointment_id}":{"get":{"summary":"Get Chat Messages","operationId":"get_chat_messages_chat__appointment_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"appointment_id","in":"path","required":true,"schema":{"type":"string","title":"Appointment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/admin/doctors":{"get":{"summary":"Admin Get Doctors","operationId":"admin_get_doctors_admin_doctors_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/admin/doctors/{doctor_id}/approve":{"put":{"summary":"Admin Approve Doctor","operationId":"admin_approve_doctor_admin_doctors__doctor_id__approve_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"doctor_id","in":"path","required":true,"schema":{"type":"string","title":"Doctor Id"}},{"name":"status","in":"query","required":true,"schema":{"type":"string","title":"Status"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/admin/patients":{"get":{"summary":"Admin Get Patients","operationId":"admin_get_patients_admin_patients_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/admin/stats":{"get":{"summary":"Admin Get Stats","operationId":"admin_get_stats_admin_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/admin/create-admin":{"post":{"summary":"Create Admin Account","operationId":"create_admin_account_admin_create_admin_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/admin/admins":{"get":{"summary":"Get All Admins","operationId":"get_all_admins_admin_admins_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/admin/update-permissions":{"put":{"summary":"Update Admin Permissions","operationId":"update_admin_permissions_admin_update_permissions_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePermissionsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/admin/delete-admin/{admin_id}":{"delete":{"summary":"Delete Admin Account","operationId":"delete_admin_account_admin_delete_admin__admin_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"admin_id","in":"path","required":true,"schema":{"type":"string","title":"Admin Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health":{"get":{"summary":"Health Check","description":"Check API health status","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/ai/chat-history":{"get":{"summary":"Get Ai Chat History","description":"Lấy lịch sử chat với AI của bệnh nhân","operationId":"get_ai_chat_history_ai_chat_history_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/department-head/promote":{"post":{"summary":"Promote To Department Head","description":"Admin hoặc Trưởng khoa hiện tại có thể chỉ định Trưởng khoa mới","operationId":"promote_to_department_head_department_head_promote_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromoteToDepartmentHeadRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/department-head/demote/{doctor_id}":{"post":{"summary":"Demote Department Head","description":"Admin có thể hạ chức Trưởng khoa","operationId":"demote_department_head_department_head_demote__doctor_id__post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"doctor_id","in":"path","required":true,"schema":{"type":"string","title":"Doctor Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/department-head/add-doctor":{"post":{"summary":"Add Doctor By Department Head","description":"Trưởng khoa thêm bác sĩ vào chuyên khoa của mình","operationId":"add_doctor_by_department_head_department_head_add_doctor_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddDoctorRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/department-head/my-doctors":{"get":{"summary":"Get My Department Doctors","description":"Trưởng khoa xem danh sách bác sĩ trong chuyên khoa của mình","operationId":"get_my_department_doctors_department_head_my_doctors_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/department-head/approve-doctor/{doctor_id}":{"put":{"summary":"Department Head Approve Doctor","description":"Trưởng khoa duyệt/từ chối bác sĩ trong chuyên khoa","operationId":"department_head_approve_doctor_department_head_approve_doctor__doctor_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"doctor_id","in":"path","required":true,"schema":{"type":"string","title":"Doctor Id"}},{"name":"status","in":"query","required":true,"schema":{"type":"string","title":"Status"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/department-head/remove-doctor/{doctor_id}":{"delete":{"summary":"Department Head Remove Doctor","description":"Trưởng khoa xóa bác sĩ khỏi chuyên khoa","operationId":"department_head_remove_doctor_department_head_remove_doctor__doctor_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"doctor_id","in":"path","required":true,"schema":{"type":"string","title":"Doctor Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"AddDoctorRequest":{"properties":{"email":{"type":"string","title":"Email"},"password":{"type":"string","title":"Password"},"full_name":{"type":"string","title":"Full Name"},"specialty_id":{"type":"string","title":"Specialty Id"},"bio":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Bio"},"experience_years":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Experience Years"},"consultation_fee":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Consultation Fee"}},"type":"object","required":["email","password","full_name","specialty_id"],"title":"AddDoctorRequest"},"Appointment":{"properties":{"id":{"type":"string","title":"Id"},"patient_id":{"type":"string","title":"Patient Id"},"patient_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Patient Name"},"doctor_id":{"type":"string","title":"Doctor Id"},"doctor_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Doctor Name"},"appointment_type":{"type":"string","title":"Appointment Type"},"appointment_date":{"type":"string","title":"Appointment Date"},"appointment_time":{"type":"string","title":"Appointment Time"},"symptoms":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Symptoms"},"status":{"type":"string","title":"Status","default":"pending"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["patient_id","doctor_id","appointment_type","appointment_date","appointment_time"],"title":"Appointment"},"AppointmentCreate":{"properties":{"doctor_id":{"type":"string","title":"Doctor Id"},"appointment_type":{"type":"string","title":"Appointment Type"},"appointment_date":{"type":"string","title":"Appointment Date"},"appointment_time":{"type":"string","title":"Appointment Time"},"symptoms":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Symptoms"}},"type":"object","required":["doctor_id","appointment_type","appointment_date","appointment_time"],"title":"AppointmentCreate"},"AppointmentStatusUpdate":{"properties":{"status":{"type":"string","title":"Status"}},"type":"object","required":["status"],"title":"AppointmentStatusUpdate"},"ChatMessageCreate":{"properties":{"appointment_id":{"type":"string","title":"Appointment Id"},"message":{"type":"string","title":"Message"}},"type":"object","required":["appointment_id","message"],"title":"ChatMessageCreate"},"DoctorProfileUpdate":{"properties":{"specialty_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Specialty Id"},"bio":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Bio"},"experience_years":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Experience Years"},"consultation_fee":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Consultation Fee"}},"type":"object","title":"DoctorProfileUpdate"},"DoctorScheduleUpdate":{"properties":{"available_slots":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Available Slots"}},"type":"object","required":["available_slots"],"title":"DoctorScheduleUpdate"},"ForgotPasswordRequest":{"properties":{"email":{"type":"string","title":"Email"}},"type":"object","required":["email"],"title":"ForgotPasswordRequest"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"PromoteToDepartmentHeadRequest":{"properties":{"doctor_id":{"type":"string","title":"Doctor Id"}},"type":"object","required":["doctor_id"],"title":"PromoteToDepartmentHeadRequest"},"Specialty":{"properties":{"id":{"type":"string","title":"Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["name"],"title":"Specialty"},"SpecialtyCreate":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["name"],"title":"SpecialtyCreate"},"UpdatePermissionsRequest":{"properties":{"admin_id":{"type":"string","title":"Admin Id"},"permissions":{"additionalProperties":true,"type":"object","title":"Permissions"}},"type":"object","required":["admin_id","permissions"],"title":"UpdatePermissionsRequest"},"UserCreate":{"properties":{"email":{"type":"string","title":"Email"},"password":{"type":"string","title":"Password"},"full_name":{"type":"string","title":"Full Name"},"role":{"type":"string","title":"Role","default":"patient"},"admin_permissions":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Admin Permissions"}},"type":"object","required":["email","password","full_name"],"title":"UserCreate"},"UserLogin":{"properties":{"email":{"type":"string","title":"Email"},"password":{"type":"string","title":"Password"}},"type":"object","required":["email","password"],"title":"UserLogin"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}